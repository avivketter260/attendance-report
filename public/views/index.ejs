<!-- views/index.ejs -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Attendance Report Generator</title>
  <link href="/css/styles.css" rel="stylesheet">
</head>
<body class="bg-gray-100">
  <main class="max-w-md mx-auto mt-10 bg-white p-8 rounded shadow">
    <h1 class="text-2xl font-bold mb-6 text-center">Generate Attendance Report</h1>
    
    <% if (message) { %>
      <div role="alert" class="text-center text-green-500 mb-4"><%= message %></div>
    <% } %>
    
    <form action="/generate" method="POST" class="space-y-4">
      <div class="form-group">
        <label for="month" class="block text-gray-700">Month:</label>
        <input 
          type="number" 
          id="month" 
          name="month" 
          min="1" 
          max="12" 
          value="<%= currentMonth %>" 
          required 
          class="w-full mt-1 p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500">
      </div>
      
      <div class="form-group">
        <label for="year" class="block text-gray-700">Year:</label>
        <input 
          type="number" 
          id="year" 
          name="year" 
          min="1900"
          value="<%= currentYear %>" 
          required 
          class="w-full mt-1 p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500">
      </div>
      
      <div class="form-group">
        <label for="sickDays" class="block text-gray-700">Sick Days:</label>
        <input 
          type="text" 
          id="sickDays" 
          name="sickDays" 
          pattern="\d+(?:,\d+)*"
          placeholder="e.g., 16,17 (No spaces)" 
          class="w-full mt-1 p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
          title="Enter comma-separated numbers">
      </div>
      
      <div class="form-group">
        <label for="daysOff" class="block text-gray-700">Days Off:</label>
        <input 
          type="text" 
          id="daysOff" 
          name="daysOff" 
          pattern="\d+(?:,\d+)*"
          placeholder="e.g., 5,26 (No spaces)" 
          class="w-full mt-1 p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
          title="Enter comma-separated numbers">
      </div>
      
      <div class="form-group">
        <label for="workFromHome" class="block text-gray-700">Additional Work From Home Days:</label>
        <input 
          type="text" 
          id="workFromHome" 
          name="workFromHome" 
          pattern="\d+(?:,\d+)*"
          placeholder="e.g., 1,15 (No spaces)" 
          class="w-full mt-1 p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
          title="Enter comma-separated numbers">
      </div>
      
      <button 
        type="submit" 
        class="w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600 transition duration-200">
        Generate CSV
      </button>
    </form>
  </main>
</body>
</html>
